port: 3333

proxies:

# æœºåœºé…ç½®æ¨¡å—
provider_config: &provider_config {"type": "http","interval": 86400,"user-agent": "clash","health-check": {"enable": true,"url": "http://www.apple.com/library/test/success.html","interval": 300}}

proxy-providers:
  # ç¬¬ä¸€ä¸ªæœºåœº
  AP1:
    url: https://meisai2.xn--chqu2nzsxv3y.com/ssone/dba4fa150f91e61d7a4bf71ab5a99e65  #ä¿®æ”¹ä½ çš„æœºåœº1è®¢é˜…åœ°å€
    <<: *provider_config
    override:
      additional-prefix: "[AP1]"
  # ç¬¬äºŒä¸ªæœºåœº
  #AP2:
    #url: https://XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX #ä¿®æ”¹ä½ çš„æœºåœº2è®¢é˜…åœ°å€
    #<<: *provider_config
    #override:
      #additional-prefix: "[AP2]"
  # ç¬¬ä¸‰ä¸ªæœºåœº
  #AP3:
    #url: https://XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX #ä¿®æ”¹ä½ çš„æœºåœº3è®¢é˜…åœ°å€
    #<<: *provider_config
    #override:
     # additional-prefix: "[AP3]"


# åˆ†ç»„é…ç½®æ¨¡å—
standard_proxies: &standard_proxies {"type": "select", "proxies": ["ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", "DIRECT","REJECT"], "include-all": true}

# èŠ‚ç‚¹é…ç½®æ¨¡å—
filter_proxies: &filter_proxies {"type": "url-test", "url": "http://www.apple.com/library/test/success.html", "interval": 300, "tolerance": 150, "include-all": true}


#åŸŸåç»„
proxy-groups:
#æ¼ç½‘ä¹‹é±¼/ä»£ç†
  - {name: ğŸFinal,<<: *standard_proxies}
#èŠ‚ç‚¹åˆ‡æ¢
  - {name: ğŸ§±Proxy,<<: *standard_proxies}
  - {name: ğŸš«banProgram, <<: *standard_proxies, proxies: ["REJECT", "DIRECT"]}
  - {name: ğŸ‡¨ğŸ‡³China,<<: *standard_proxies, proxies: ["DIRECT"]}
  - {name: ğŸ”Porn,<<: *standard_proxies}
      
#ç½‘é¡µappåˆ†æµç»„
  - {name: ğŸ’¬Telegram,<<: *standard_proxies}
  - {name: ğŸ“±X,<<: *standard_proxies}
  - {name: ğŸ“±Instagram,<<: *standard_proxies}
  - {name: ğŸ’¬Facebook,<<: *standard_proxies}
  - {name: ğŸµSpotify,<<: *standard_proxies}
  - {name: ğŸ’»Speedtest,<<: *standard_proxies}
  - {name: ğŸ’»GitHub,<<: *standard_proxies}
  - {name: ğŸ“ºYouTube,<<: *standard_proxies}
  - {name: ğŸ’¬ğŸ“ŒBahamut,<<: *standard_proxies, proxies: ["ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹"]}

#æœåŠ¡åˆ†æµç»„
  - {name: ğŸApple,<<: *standard_proxies}
  - {name: ğŸ…¶Google,<<: *standard_proxies}
  - {name: â“‚ï¸Microsoft,<<: *standard_proxies}
  - {name: ğŸ¤–AI,<<: *standard_proxies}

#æ¸¸æˆç±»åˆ†æµ  
  - {name: ğŸ’»ğŸ®Games,<<: *standard_proxies}
  - {name: ğŸ®ğŸ•¹ï¸PlayStation,<<: *standard_proxies}
  - {name: ğŸ®ğŸ•¹ï¸Xbox,<<: *standard_proxies}
  - {name: ğŸ®ğŸ•¹ï¸Nintendo,<<: *standard_proxies}

#èŠ‚ç‚¹ç»„    
  # åœ°åŒºèŠ‚ç‚¹ä»£ç†ç»„
  - name: ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)\b))).*$'

  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b))).*$'

  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)\b))).*$'

  - name: ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡¹ğŸ‡¼|TW|å°æ¹¾)).*$'

  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b))).*$'
      
  - name: ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?=.*((?i)ğŸ‡¬ğŸ‡§|è‹±å›½|ä¼¦æ•¦|(\b(UK|United Kingdom)\b))).*$'

  - name: ğŸŒ å…¶ä»–èŠ‚ç‚¹
    <<: *filter_proxies
    filter: '^(?!.*(ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States|ğŸ‡­ğŸ‡°|é¦™æ¸¯|HK|Hong|ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|JP|Japan|ğŸ‡¹ğŸ‡¼|å°æ¹¾|TW|ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|SG|Singapore|ğŸ‡¬ğŸ‡§|è‹±å›½|ä¼¦æ•¦|UK|United Kingdom)).*$'


#ruleseté…ç½®æ¨¡å—
# è§„åˆ™ç±»å‹ç›¸å…³
rule-anchor:
ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
ip_list: &iplist {type: http, interval: 86400, behavior: ipcidr, format: text}
domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
class: &class {type: http, interval: 86400, behavior: classical, format: text}
rule-providers:
  #domain
  #ç›´è¿
  direct_list: {<<: *class,url: "https://raw.githubusercontent.com/Apseele/Myopenclashrules/refs/heads/main/Direct_list/Direct_domain.list"}
  bilibili: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bilibili.mrs"}
  cn: {<<: *domain,url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs"}

  #ä»£ç†
  proxy: {<<: *domain, url: 'https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geosite/proxy.mrs'}
  gfw: {<<: *domain, url: 'https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/gfw.mrs'}
  speedtest: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs"}
  geolocation-!cn: {<<: *domain, url: 'https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs'}
  proxy_domain_list: {<<: *class, url: 'https://raw.githubusercontent.com/Apseele/Myopenclashrules/refs/heads/main/Proxy_list/Proxy_domain.list'}
  telegram: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs"}
  whatsapp: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/whatsapp.mrs"}
  facebook: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/facebook.mrs"}
  twitter: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/x.mrs"}
  reddit: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/reddit.mrs"}
  Instagram: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/instagram.mrs"}
  github: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs"}
  bahamut: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/bahamut.mrs"}
  spotify: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/spotify.mrs"}
  youtube: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs"}

  #å¹¿å‘Š
  banProgramAD_domain_list: {<<: *class, url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list"}
  
  #AIåˆ†æµ
  AI_domain_list: {<<: *class, url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/AI.list"}
  Gemini_domain_list: {<<: *class, url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Loon/Gemini/Gemini.list"}

  #æœåŠ¡åˆ†æµ
  google: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs"}
  microsoft: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs"}
  microsoft@cn: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft@cn.mrs"}
  apple: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple.mrs"}
  #æ¸¸æˆåˆ†æµ
  epic: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/epicgames.mrs"}
  ea: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ea.mrs"}
  blizzard: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/blizzard.mrs"}
  ubi: {<<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ubisoft.mrs"}
  
  #ip

  bilibili_ip: {<<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geoip/bilibili.mrs"}
  cn_ip: {<<: *ip, url: 'https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs'}
  private_ip: {<<: *ip, url: 'https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geoip/private.mrs'}
  apple_ip: {<<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geoip/apple.mrs"}
  telegram_ip: {<<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geoip/telegram.mrs"}
  twitter_ip: {<<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geoip/twitter.mrs"}
  
  #ä»£ç†
  proxy_ip_list: {<<: *iplist, url: 'https://raw.githubusercontent.com/Apseele/Myopenclashrules/refs/heads/main/Proxy_list/Proxy_IP_CIDR.list'}
  proxy_ip_list: {<<: *iplist, url: 'https://raw.githubusercontent.com/Apseele/Myopenclashrules/refs/heads/main/Proxy_list/Proxy_IP_CIDR.list'}
  direct_ip_list: {<<: *iplist,url: "https://raw.githubusercontent.com/Apseele/Myopenclashrules/refs/heads/main/Direct_list/Direct_IP_CIDR.list"}

rules:
  # âœ…/å¹¿å‘Š/æ‹¦æˆª
  - RULE-SET,banProgramAD_domain_list,ğŸš«banProgram
  # âœ… ç›´è¿
  - RULE-SET,direct_list,DIRECT
  - RULE-SET,direct_ip_list,DIRECT
  - GEOSITE,category-games@cn,DIRECT
  - RULE-SET,private_ip,DIRECT,no-resolve
  - RULE-SET,bilibili,ğŸ‡¨ğŸ‡³China
  - RULE-SET,bilibili_ip,ğŸ‡¨ğŸ‡³China
  # âœ… å›½å†…
  - RULE-SET,cn,ğŸ‡¨ğŸ‡³China
  - RULE-SET,cn_ip,ğŸ‡¨ğŸ‡³China,no-resolve
  # âœ… è‡ªå®šä¹‰ä»£ç†æ–‡ä»¶
  - RULE-SET,proxy_domain_list,ğŸ§±Proxy
  - RULE-SET,proxy_ip_list,ğŸ§±Proxy

  # âœ… AIåˆ†æµ
  - RULE-SET,AI_domain_list,ğŸ¤–AI
  - RULE-SET,Gemini_domain_list,ğŸ¤–AI
  # âœ… ç¤¾äº¤åª’ä½“
  - RULE-SET,telegram_ip,ğŸ’¬Telegram,no-resolve
  - RULE-SET,telegram,ğŸ’¬Telegram
  - RULE-SET,twitter_ip,ğŸ“±X,no-resolve
  - RULE-SET,twitter,ğŸ“±X
  - RULE-SET,facebook,ğŸ’¬Facebook
  - RULE-SET,reddit,ğŸFinal
  - RULE-SET,Instagram,ğŸ“±Instagram
  - RULE-SET,whatsapp,ğŸFinal
  # âœ… å…¶ä»–åˆ†æµ
  - RULE-SET,github,ğŸ’»GitHub
  - RULE-SET,bahamut,ğŸ’¬ğŸ“ŒBahamut
  # âœ… æœåŠ¡åˆ†æµ
  - RULE-SET,google,ğŸ…¶Google
  - RULE-SET,google_ip,ğŸ…¶Google,no-resolve
  - RULE-SET,apple,ğŸApple
  - RULE-SET,apple_ip,ğŸApple,no-resolve
  - RULE-SET,microsoft@cn,DIRECT
  - RULE-SET,microsoft,â“‚ï¸Microsoft
  # âœ… æµåª’ä½“åˆ†æµ
  - RULE-SET,spotify,ğŸµSpotify
  - RULE-SET,youtube,ğŸ“ºYouTube
  # âœ… æ¸¸æˆåˆ†æµ
  - RULE-SET,epic,ğŸ’»ğŸ®Games
  - RULE-SET,ea,ğŸ’»ğŸ®Games
  - RULE-SET,blizzard,ğŸ’»ğŸ®Games
  - RULE-SET,ubi,ğŸ’»ğŸ®Games
  - GEOSITE,xbox,ğŸ®ğŸ•¹ï¸Xbox
  - GEOSITE,playstation,ğŸ®ğŸ•¹ï¸PlayStation
  - GEOSITE,nintendo,ğŸ®ğŸ•¹ï¸Nintendo
  # ğŸ” Porn
  - GEOSITE,category-porn,ğŸ”Porn
  # âœ… æµ‹é€Ÿ/æµ‹è¯•
  - RULE-SET,speedtest,ğŸ’»Speedtest
  # âœ… æ€»ä»£ç†ç±»è§„åˆ™
  - RULE-SET,proxy,ğŸ§±Proxy
  - RULE-SET,gfw,ğŸ§±Proxy
  # âœ… æ¼ç½‘ä¹‹é±¼
  - MATCH,ğŸFinal


 

